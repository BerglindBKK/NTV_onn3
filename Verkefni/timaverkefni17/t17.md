## Tímaverkefni 17:

### 1. Gagnagrunnur: Búið til reviews töfluna

Bætið við nýrri töflu í `schema.sql` skránna ykkar.
Taflan á að innihalda eftirfarandi dálka:
**id** (einstakt auðkenni)
**rating** (heiltala frá 1 til 5, má ekki vera tóm)
**comment** (texti, valkvætt)
**movie_id** (heiltala, vísar í bíómynd)
**user_id** (heiltala, vísar í notanda)
**created_at** (tímastimpill)

**Notið FOREIGN KEY til að tengja movie_id við movies(id) og user_id við users(id).**

### 2. Model: Búið til reviewModel.ts

Búið til nýja skrá í `src/models/` möppunni.
Skilgreinið `Review` interface.
Búið til fall, `createReview`, sem tekur inn gögn fyrir nýja umsögn og vistar hana í gagnagrunninn með INSERT skipun.

### 3. Controller: Búið til reviewController.ts

Búið til nýja skrá í `src/controllers/` möppunni.
Búið til fall, `createReviewController`, sem sér um rökfræðina:
Það nær í rating og comment úr req.body.
Það nær í movieId úr req.params.
Það nær í userId frá innskráðum notanda (úr JWT tokeninu).
Það kallar á `createReview` fallið í módelf-skránni ykkar.
Það skilar nýju umsögninni með stöðukóðanum 201 Created.

### 4. Route: Búið til nýja slóð

Bætið við nýrri slóð í `src/routes/movieRoutes.ts`.
Slóðin á að vera POST `/api/movies/:movieId/reviews`.
Þessi slóð verður að vera vernduð. Aðeins innskráðir notendur mega nota hana.
Afritið auðkenningar-rökfræðina (sem staðfestir JWT) sem við notuðum fyrir `/me` slóðina og setjið hana sem middleware á undan controller-fallinu.
Gangið úr skugga um að þið hengið upplýsingar um notandann (user) við req hlutinn.

#### Ábendingar og kröfur:

**Auðkenning**: Ef beiðni kemur á slóðina án gilds JWT tokens skal skila 401 Unauthorized.
**Villumeðhöndlun**: Ef rating eða movieId vantar í beiðnina skal skila 400 Bad Request.
**Prófun**: Notið Postman eða Insomnia til að prófa allt flæðið:
Skráið ykkur inn (login) til að fá token.
Notið tokenið til að kalla í nýju POST slóðina til að búa til umsögn.
Staðfestið að umsögnin hafi verið búin til í gagnagrunninum með rétt user_id.

### 5. Sækja review fyrir mynd

Búið til nýja slóð, `GET /api/movies/:movieId/reviews`.
Sækir og skilar öllum umsögnum fyrir ákveðna bíómynd. Þessi slóð þarf ekki að vera vernduð.
Bætið við upplýsingum um notandann (t.d. netfangi) við hverja umsögn sem er skilað. (Þið þurfið að nota JOIN í SQL fyrir þetta).
